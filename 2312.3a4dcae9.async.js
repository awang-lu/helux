"use strict";(self.webpackChunkhelux_docs=self.webpackChunkhelux_docs||[]).push([[2312],{2312:function(Ft,Be,Ke){Ke.d(Be,{TT:function(){return St},P2:function(){return Te},_x:function(){return De},OA:function(){return Tt},limuUtils:function(){return Ct},Xl:function(){return Dt},Uy:function(){return Vt}});const bt=3,ze="3.12.4",Y=Symbol("M"),ue=Symbol("V"),fe=Symbol("IMMUT_BASE"),G=Symbol("IS_RAW"),C="Map",x="Set",S="Array",Le="Object",Ue=[Symbol.iterator,Symbol.toStringTag,G],He={Map:C,Set:x,Array:S},q="[object Object]",W="[object Map]",J="[object Set]",Q="[object Array]",Z="[object Function]",Ye={[W]:C,[J]:x,[Q]:S,[q]:Le},Ge=["push","pop","shift","splice","unshift","reverse","copyWithin","delete","fill"],We=["set","clear","delete"],Je=["add","clear","delete"],Xe=["splice","sort","unshift","shift"],ke=["concat","copyWithin","entries","every","fill","filter","find","findIndex","flat","flatMap","forEach","includes","indexOf","join","keys","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","unshift","slice","some","sort","splice","values","valueOf"],$e=["clear","delete","entries","forEach","get","has","keys","set","values"],qe=["add","clear","delete","entries","forEach","has","keys","values"],pe={[C]:$e,[x]:qe,[S]:ke},Qe={[C]:["clear","set","delete"],[x]:["clear","add","delete"],[S]:["pop","push","shift","unshift","splice","sort","copyWithin"]},Ze={[C]:["forEach","get"],[x]:["forEach"],[S]:["forEach","map"]},B={value:0,usablePrefix:1},de={autoFreeze:!1,fastModeRange:"array"},je=Object.prototype.toString,et=!!Reflect,tt=Object.prototype.hasOwnProperty;function ye(e,t){return et?Reflect.has(e,t):tt.call(e,t)}function nt(e,t,n,r){const o=(s,u,a)=>{R(s)||(r(s,u,a),Array.isArray(s)&&s.forEach((i,p)=>{o(i,s,p)}),X(s)&&s.forEach((i,p)=>{o(i,s,p)}),K(s)&&Object.keys(s).forEach(i=>{o(s[i],s,i)}))};o(e,t,n)}function F(e){return je.call(e)}function I(...e){return e}function K(e){return F(e)===q}function X(e){return F(e)===W}function j(e){return F(e)===J}function b(e){return F(e)===Z}function me(e){var t=F(e);return Ye[t]}function R(e){const t=F(e);return![q,Q,W,J,Z].includes(t)}function Me(e){return e.constructor.name==="AsyncFunction"||typeof e.then=="function"}function he(e){return typeof Promise!="undefined"&&e instanceof Promise}function ee(e){var t=typeof e;return t==="number"?!0:t==="string"?/^[0-9]*$/.test(e):!1}function rt(e){return typeof e=="symbol"}function ot(e){var t;return e&&(t=e[G])!==null&&t!==void 0?t:!1}const st={[Q]:Array.prototype,[W]:Map.prototype,[J]:Set.prototype,[Z]:Function.prototype};function it(e){const t=F(e),n=st[t]||Object.prototype,r=Object.create(null);return Object.setPrototypeOf(r,n),Object.setPrototypeOf(e,r),e}const te=new Map;function z(e){e.rootMeta.modified=!0;const t=n=>{n&&!n.modified&&(n.modified=!0,t(n.parentMeta))};t(e)}function ne(e,t,n){if(n.apiCtx.debug){const{fast:r}=n;r?e[Y]=t:(it(e),e.__proto__[Y]=t)}return e}function ct(e,t,n){const r=[t],o=w(e,n);if(o&&o.level>0){const{keyPath:s}=o;return[...s,t]}return r}function at(e,t,n){const{ver:r,parentMeta:o=null,immutBase:s,compareVer:u,apiCtx:a,hasOnOperate:i}=n,p=me(t);let d=[],c=0,_=null;o&&(_=o.copy,c=ut(_,a),d=ct(_,e,a));const m={rootMeta:null,parentMeta:o,parent:_,selfType:p,self:t,copy:null,key:e,keyPath:d,level:c,proxyVal:null,proxyItems:null,modified:!1,scopes:[],isImmutBase:s,isDel:!1,isFast:!1,isArrOrderChanged:!1,newNodeStats:{},newNodeMap:new Map,newNodes:[],ver:r,compareVer:u,revoke:I,hasOnOperate:i,execOnOperate:I};return c===0?m.rootMeta=m:m.rootMeta=o.rootMeta,m}function ge(e){const t=re(e);return t?!t.isImmutBase:!1}function lt(){B.value>=Number.MAX_SAFE_INTEGER?(B.value=1,B.usablePrefix+=1):B.value+=1;const{value:e,usablePrefix:t}=B;return`${t}_${e}`}function ut(e,t){const n=N(e,t);return n?n.level+1:1}function w(e,t){return t.metaMap.get(e)}function N(e,t){let n=t||Ee(e);return(n==null?void 0:n.metaMap.get(e))||null}function _e(e){return e&&e[ue]||""}function Ee(e){const t=_e(e);return te.get(t)||null}function re(e){const t=Ee(e);return t&&t.metaMap.get(e)||null}function Oe(e,t){const n=re(e),r=re(t);if(!n&&!r)return!Object.is(e,t);const{self:o,modified:s,compareVer:u,ver:a,level:i}=n||{self:e,modified:!1,compareVer:!1,ver:"0",level:0},{self:p,modified:d,compareVer:c,ver:_,level:m}=r||{self:t,modified:!1,compareVer:!1,ver:"0",level:0};return o!==p||(u||c)&&(i===0||m===0)&&a!==_?!0:s||d}function ft(e,t,n=!0){const r=n?Oe:Object.is;return!((u,a)=>{for(let i in u)if(!(i in a))return!0;for(let i in a)if(r(u[i],a[i]))return!0;return!1})(e,t)}function Nt(e){const t=n=>{if(isPrimitive(n))return n;let r=n;if(Array.isArray(n)&&(r=n.slice(),r.forEach((o,s)=>{r[s]=t(o)})),isSet(n)){const o=Array.from(n);o.forEach((s,u)=>{o[u]=t(s)}),r=new Set(o)}return isMap(n)&&(r=new Map(n),r.forEach((o,s)=>{r.set(s,t(o))})),isObject(n)&&(r={},Object.keys(n).forEach(o=>{r[o]=t(n[o])})),r};return t(e)}function pt(e,t){const{parentType:n,fastModeRange:r}=t;if(Array.isArray(e))return{copy:e.slice(),fast:!1};const o=r==="array"&&n===S||r==="all";let s=e;return e&&K(e)&&(s=Object.assign({},e)),X(e)&&(s=new Map(e)),j(e)&&(s=new Set(e)),{copy:s,fast:o}}function dt(e,t,n){const{apiCtx:r,immutBase:o}=n;if(o)return{copy:e,fast:!1};const{copy:s,fast:u}=pt(e,n);return ne(s,t,{apiCtx:r,fast:u}),{copy:s,fast:u}}function yt(e,t,n){const{copy:r,isArrOrderChanged:o}=e,{targetNode:s,key:u}=n;if(o){const a=r.findIndex(i=>i===t.copy);a>=0&&(r[a]=s);return}r[u]=s}function mt(e,t){return K(e)?_e(e)===t:!0}function Mt(e,t){const{debug:n}=t,r=new Map;t.newNodeMap.forEach(o=>{const{node:s,parent:u,key:a}=o,i=r.get(s);if(i){u[a]=i;return}const p=o;nt(s,u,a,(d,c,_)=>{const m=N(d,t);if(m){const{modified:O,copy:E,self:h}=m,P=O?E:h;c[_]=P}}),p.target=u[a],r.set(s,p.target)}),e.scopes.forEach(o=>{const{modified:s,copy:u,parentMeta:a,key:i,self:p,revoke:d,proxyVal:c,isDel:_,isFast:m}=o;if(!u||(n&&(m?delete u[Y]:delete u.__proto__[Y]),!a))return d();const O=s?u:p,E=a.copy,h=a.selfType;if(h===C)return E.set(i,O),d();if(h===x)return E.delete(c),E.add(O),d();if(h===S)return yt(a,o,{targetNode:O,key:i}),d();if(_!==!0)return E[i]=O,d()}),e.scopes.length=0}function ht(e,t){const{self:n,copy:r,modified:o}=e;let s=n;return r&&o&&(s=e.copy),Mt(e,t),s}function Pe(e){e.rootMeta.scopes.push(e)}function Ae(e,t,n){const{traps:r,parentType:o,fastModeRange:s,immutBase:u,apiCtx:a}=n,i=at(e,t,n),{copy:p,fast:d}=dt(t,i,{immutBase:u,parentType:o,fastModeRange:s,apiCtx:a});if(i.copy=p,i.isFast=d,u){const c=new Proxy(p,r);i.proxyVal=c,i.revoke=I}else{const c=Proxy.revocable(p,r);i.proxyVal=c.proxy,i.revoke=c.revoke}return a.metaMap.set(p,i),a.metaMap.set(i.proxyVal,i),i}function gt(e,t){return e===S?!0:(Ze[e]||[]).includes(t)}function _t(e,t){const{key:n,parentMeta:r,parent:o,parentType:s,fastModeRange:u,readOnly:a,apiCtx:i}=t;let p=e;if(a&&r&&!b(e)){const{copy:c,self:_}=r,m=_[n];if(p!==m){const O=i.metaMap.get(p);O&&(i.metaMap.delete(p),i.metaMap.delete(O.proxyVal)),c[n]=m,p=m}}const d=(c,_)=>{const m=_||"";if(R(c)||!c)return c;if(!r)throw new Error("[[ createMeta ]]: meta should not be null");if(!b(c)){if(r.newNodeStats[m]||c[G])return c;let E=w(c,i);return E||(E=Ae(m,c,t),Pe(E),r.selfType===C?o.set(m,E.copy):o[m]=E.copy),E.proxyVal}if(!gt(s,m)||r.proxyItems)return c;let O=[];if(s===x){const E=new Set;o.forEach(h=>E.add(d(h))),Se(E,r,{dataType:x,apiCtx:i}),O=ne(E,r,{fast:u,apiCtx:i}),r.copy=O}else if(s===C){const E=new Map;o.forEach((h,P)=>E.set(P,d(h,P))),Se(E,r,{dataType:C,apiCtx:i}),O=ne(E,r,{fast:u,apiCtx:i}),r.copy=O}else s===S&&m!=="sort"&&(r.copy=r.copy||o.slice(),O=r.proxyVal);return r.proxyItems=O,c};return d(p,n)}function Ce(e,t){if(!K(e))return e;const n=w(e,t);return n?n.copy:e}function Se(e,t,n){const{dataType:r,apiCtx:o}=n,s=e.delete.bind(e),u=e.clear.bind(e);if(e.delete=function(...i){return z(t),s(...i)},e.clear=function(...i){return z(t),u(...i)},r===x){const a=e.add.bind(e);e.add=function(...p){return z(t),a(...p)}}if(r===C){const a=e.set.bind(e),i=e.get.bind(e);e.set=function(...d){if(z(t),t.hasOnOperate){const c=d[1];t.rootMeta.execOnOperate("set",d[0],{mayProxyVal:c,value:c,parentMeta:t})}return a(...d)},e.get=function(...d){const c=i(...d);if(t.hasOnOperate){const _=N(c,o),m=_?_.copy||_.self:c;t.rootMeta.execOnOperate("get",d[0],{mayProxyVal:c,value:m,parentMeta:t,isChanged:!1})}return c}}}function Et(e){const{calledBy:t,parentMeta:n,op:r,parentType:o}=e;(["deleteProperty","set"].includes(t)||t==="get"&&(o===x&&Je.includes(r)||o===S&&Ge.includes(r)||o===C&&We.includes(r)))&&z(n)}function ve(e,t){const n=e.keyPath.slice();return n.push(t),n.join("|")}function oe(e,t){const{op:n,key:r,value:o,calledBy:s,parentType:u,parentMeta:a,apiCtx:i}=t,p=Ce(o,i);if(!a){e[r]=p;return}const{self:d,copy:c}=a;Et({calledBy:s,parentMeta:a,op:n,key:r,parentType:u});const _=pe[u]||[];if(b(o)&&_.includes(n))return n==="slice"?d.slice:(Xe.includes(n)&&(a.isArrOrderChanged=!0),c?u===x||u===C?c[n].bind(c):c[n]:d[n].bind(d));if(!c)return p;const m=c[r],O=()=>{const h=N(m,i);h&&(h.isDel=!0)},E=()=>{const h=N(o,i);h&&h.isDel&&(h.isDel=!1,h.key=r,h.keyPath=a.keyPath.concat([r]),h.level=a.level+1,h.parent=a.copy,h.parentMeta=a)};if(s==="deleteProperty"){const h=N(o,i);h?h.isDel=!0:O();const P=c[r];R(P)||i.newNodeMap.delete(ve(a,r)),delete c[r];return}R(p)||(a.newNodeStats[r]=!0,i.newNodeMap.set(ve(a,r),{parent:c,node:p,key:r,target:null})),c[r]=p,O(),E()}function se(e){if(R(e))return e;if(Array.isArray(e)&&e.length>0)return e.forEach(se),Object.freeze(e);if(j(e)){const n=e;n.add=()=>n,n.delete=()=>!1,n.clear=I;for(const r of n.values())Object.freeze(r);return Object.freeze(e)}if(X(e)){const n=e;n.set=()=>n,n.delete=()=>!1,n.clear=I;for(const r of n.values())Object.freeze(r);return Object.freeze(e)}return Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];se(r)}),Object.freeze(e)}const Ot=["length","constructor","asymmetricMatch","nodeType","size"],xe={};Ot.forEach(e=>xe[e]=1);const Pt={[S]:1,[x]:1,[C]:1},ie=new Map;function Ve(e){var t,n,r,o,s;const u=e||{},a=u.onOperate,i=!!a,p=u.customKeys||[],d=u.fastModeRange||de.fastModeRange,c=(t=u[fe])!==null&&t!==void 0?t:!1,_=(n=u.readOnly)!==null&&n!==void 0?n:!1,m=u.disableWarn,O=(r=u.compareVer)!==null&&r!==void 0?r:!1,E=(o=u.debug)!==null&&o!==void 0?o:!1,h=(s=u.autoFreeze)!==null&&s!==void 0?s:de.autoFreeze,P=lt(),v={metaMap:new Map,newNodeMap:new Map,debug:E,metaVer:P};te.set(P,v);const Fe=()=>(m||console.warn("can not mutate state at readOnly mode!"),!0),V=(L,D,y)=>{const{mayProxyVal:l,parentMeta:f,value:g,isCustom:M=!1}=y;let A=!1;if(!a)return{isChanged:A,mayProxyVal:l};const k=f||{},{selfType:T="",keyPath:U=[],copy:$,self:H,modified:ce,proxyVal:Rt}=k||{};let Ne=!1;y.isChanged!==void 0?A=y.isChanged:(pe[T]||[]).includes(D)?(Ne=!0,A=(Qe[T]||[]).includes(D)):L!=="get"&&(A=f?(ce?$:H)[D]!==g:!0);let ae=null,le=!1;return a({immutBase:c,parent:H,parentType:T,parentProxy:Rt,op:L,replaceValue:Ie=>{le=!0,ae=Ie},getReplaced:()=>({isReplaced:le,replacedValue:ae}),isBuiltInFnKey:Ne,isChanged:A,isCustom:M,key:D,keyPath:U,fullKeyPath:U.concat(D),value:g,proxyValue:l}),{mayProxyVal:le?ae:l,isChanged:A}},be=(()=>{let L=!0;const D={get:(y,l)=>{if(ue===l)return P;const f=y[l];if(Ue.includes(l)){if(b(f)){if(Symbol.iterator===l&&Array.isArray(y)){let T=0;const U=()=>({next:()=>{const $=y.length;if($===0)return{done:!0,value:void 0};const H=T===$,ce=H?void 0:D.get(y,String(T));return T++,{done:H,value:ce}},[Symbol.iterator]:()=>U});return U}return f.bind(y)}return f}if(l==="__proto__"||l==="toJSON"&&!ye(y,l))return f;let g=f;const M=w(y,v);if(p.includes(l))return V("get",l,{parentMeta:M,mayProxyVal:g,value:f,isChanged:!1,isCustom:!0}).mayProxyVal;const A=M==null?void 0:M.selfType;return Pt[A]&&xe[l]?((l==="length"||l==="size")&&V("get",l,{parentMeta:M,mayProxyVal:g,value:f}),M.copy[l]):(g=_t(f,{key:l,compareVer:O,parentMeta:M,parentType:A,ver:P,traps:D,parent:y,fastModeRange:d,immutBase:c,readOnly:_,apiCtx:v,hasOnOperate:i}),A===S&&ee(l)?V("get",l,{parentMeta:M,mayProxyVal:g,value:f}).mayProxyVal:He[A]?(g=oe(y,{op:l,key:l,value:f,metaVer:P,calledBy:"get",parentType:A,parentMeta:M,apiCtx:v}),V("get",l,{parentMeta:M,mayProxyVal:g,value:f}).mayProxyVal):V("get",l,{parentMeta:M,mayProxyVal:g,value:f}).mayProxyVal)},set:(y,l,f)=>{let g=f;const M=w(y,v);if(ge(f))if(mt(f,P)){if(g=Ce(f,v),g===y[l])return!0}else L=!1;if(_)return V("set",l,{parentMeta:M,isChanged:!1,value:g}),Fe();if(M&&M.selfType===S){if(M.copy&&M.__callSet&&ee(l))return V("set",l,{parentMeta:M,value:g}),M.copy[l]=g,!0;M.__callSet=!0}let A=!1;return a?A=V("set",l,{parentMeta:M,value:g}).isChanged:A=(M.modified?M.copy:M.self)[l]!==f,A&&oe(y,{parentMeta:M,key:l,value:g,metaVer:P,calledBy:"set",apiCtx:v}),!0},deleteProperty:(y,l)=>{const f=w(y,v),g=y[l];return _?(V("del",l,{parentMeta:f,isChanged:!1,value:g}),Fe()):(V("del",l,{parentMeta:f,isChanged:!0,value:g}),oe(y,{parentMeta:f,op:"del",key:l,value:"",metaVer:P,calledBy:"deleteProperty",apiCtx:v}),!0)},apply:function(y,l,f){return y.apply(l,f)}};return{createDraft:y=>{if(R(y))throw new Error("base state can not be primitive");let l=y;const f=w(y,v);if(f){if(c&&f.isImmutBase)return f.proxyVal;l=f.self}const g=Ae("",l,{ver:P,traps:D,immutBase:c,readOnly:_,compareVer:O,apiCtx:v,hasOnOperate:i});return Pe(g),g.execOnOperate=V,ie.set(g.proxyVal,be.finishDraft),g.proxyVal},finishDraft:y=>{const l=w(y,v);if(!l)throw new Error("rootMeta should not be null!");if(l.level!==0)throw new Error("can not finish sub draft node!");if(l.isImmutBase)return y;let f=ht(l,v);return h&&L&&(f=se(f)),te.delete(P),f}}})();return be}function It(e){const t=getDraftMeta(e);return t?t.self:e}function Bt(e){const t=getDraftMeta(e);return t?deepCopy(t.copy||t.self):e}function At(e){return!e||R(e)||(e[G]=!0),e}const Ct={has:ye,noop:I,isObject:K,isMap:X,isSet:j,isFn:b,isPrimitive:R,isPromiseFn:Me,isPromiseResult:he,isSymbol:rt,isMardedRaw:ot,canBeNum:ee,isDraft:ge,isDiff:Oe,shallowCompare:ft,getDraftMeta:N,getDataType:me},St=ze;function Te(e,t){return Ve(t).createDraft(e)}function De(e){const t=ie.get(e);if(!t)throw new Error("Not a Limu root draft or draft has been finished!");return ie.delete(e),t(e)}function Re(e){if(!b(e))throw new Error("produce callback is not a function")}function vt(e,t){if(Me(e)||he(t))throw new Error("produce callback can not be a promise function or result")}function we(e,t,n){Re(t);const r=Te(e,n),o=t(r);return vt(t,o),De(r)}function xt(e,t,n){if(!t||!b(t)){const r=e,o=t;return Re(e),s=>we(s,r,o)}return we(e,t,n)}const Vt=xt,Ut=null;function Ht(e){return deepCopyFn(e)}function Tt(e,t){return Ve(Object.assign(Object.assign({},t||{}),{readOnly:!0,[fe]:!0})).createDraft(e)}function Yt(e){conf.autoFreeze=e}function Gt(){return conf.autoFreeze}const Wt=null,Dt=At,Jt=null}}]);
